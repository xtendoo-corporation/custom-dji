<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Comerciales -->
        <record id="commercial_group" model="res.groups">
            <field name="name">Comerciales</field>
            <field name="comment">Grupo de comerciales</field>
        </record>
        <!-- Fin Comerciales -->
        <!-- Administradores -->
        <record id="admin_group" model="res.groups">
            <field name="name">Administradores</field>
            <field name="comment">Grupo de administraci√≥n</field>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
            <field name="menu_access" eval="[(4, ref('website.menu_website_configuration'))]"/>
        </record> 
        <!-- Fin Administradores -->
        <!--  Coste  -->
        <record id="show_cost_price" model="res.groups">
            <field name="name">Show cost price</field>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
        </record>
        <!--  Fin Coste  -->
     
        <!--menu_website_configuration-->
        <!--  Margen   -->
        <record id="show_margins" model="res.groups">
            <field name="name">Show Margins</field>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
        </record>
        <!--  Fin Margen  -->
        <!--  Registrar Pagos   -->
        <record id="register_payments" model="res.groups">
            <field name="name">Register Payments</field>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
        </record>
        <!--  Registrar Pagos  -->
        <!-- Reglas de registro -->
        <!--Comerciales no pueden crear ni edtiar contactos -->
         <record id="no_create_no_edit_contacts" model="ir.rule">
            <field name="name">Contactos: no crear ni editar</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[('user_id', '=', 'XXX')]</field>
            <field name="groups" eval="[(4, ref('dji_administration.commercial_group'))]"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_read" eval="False"/>
        </record>  
        <!--Comerciales no pueden crear ni edtiar contactos -->
        <!-- Eliminar la regla de all journal entries para asientos contables-->
        <delete model="ir.rule" id="account.account_move_see_all"/>
        <!-- Fin Eliminar la regla de all journal entries para asientos contables-->
        <!-- Regla para asientos contables filtrado a comerciales-->
        <record id="own_invoices" model="ir.rule">
            <field name="name">Facturas Propias</field>
            <field name="model_id" ref="edi_account.model_account_move"/>
            <field name="domain_force">[('type', 'in', ('out_invoice', 'out_refund', 'in_invoice', 'in_refund')), '|', ('invoice_user_id', '=', user.id), ('invoice_user_id', '=', False)]</field>
            <field name="groups" eval="[(4, ref('account.group_account_invoice'))]"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_read" eval="True"/>
        </record>  
        <!-- Fin Regla para asientos contables filtrado a comerciales-->
        <!-- Regla para asientos contables sin filtrar a Administradores -->
        <record id="all_invoices" model="ir.rule">
            <field name="name">Todas las Facturas</field>
            <field name="model_id" ref="edi_account.model_account_move"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('account.group_account_manager'))]"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_read" eval="True"/>
        </record>  
        <!-- Fin Regla para asientos contables sin filtrar a Administradores -->
        <!-- Fin Reglas de registro -->
    </data>
</odoo>
